<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Van Gogh Paintings Explorer</title>
    <style>
        /* 可選：添加基本樣式 */
        body {
            margin: 0;
            font-family: sans-serif;
        }

        #main-svg {
            width: 100%;
            height: 100vh;
        }

        #minimap {
            position: absolute;
            bottom: 10px;
            right: 10px;
            width: 240px;
            height: 180px;
            border: 1px solid #ccc;
            background-color: rgba(255, 255, 255, 0.8);
        }

        #legend-container {
            max-height: 340px;
            overflow-y: auto;
            margin-top: 10px;
        }
        #search-container {
            padding-bottom: 10px;
            border-bottom: 1px solid #ddd;
        }
        #centroid-toggle-container {
            padding-bottom: 10px;
            border-bottom: 1px solid #ddd;
        }
        #search-box {
            width: 100%;
            padding: 8px;
            box-sizing: border-box;
            border: 1px solid #ccc;
            border-radius: 4px;
        }

        #similarity-results-container {
            position: absolute;
            bottom: 10px;
            left: 10px;
            background-color: rgba(255, 255, 255, 0.85);
            padding: 10px;
            border-radius: 8px;
            box-shadow: 0 0 10px rgba(0,0,0,0.1);
            display: flex;
            gap: 5px;
            align-items: center;
            height: 80px; /* 設定一個固定高度 */
        }

        #similarity-results-container img {
            height: 100%;
            width: auto;
            border: 2px solid gold; /* 為圖片加上邊框 */
            border-radius: 4px;
        }

        #stats-container {
            position: absolute;
            top: 20px;
            left: 20px;
            background-color: rgba(255, 255, 255, 0.85);
            padding: 15px;
            border-radius: 8px;
            box-shadow: 0 0 10px rgba(0,0,0,0.1);
        }
    </style>
</head>

<body>
    <svg id="main-svg"></svg>
    <svg id="minimap"></svg>
    <div id="stats-container"></div>
    
    <div id="controls-container" style="position: absolute; top: 20px; right: 20px; background-color: rgba(255, 255, 255, 0.85); padding: 15px; border-radius: 8px; box-shadow: 0 0 10px rgba(0,0,0,0.1); font-size: 14px;">
        <div id="color-scheme-container" style="padding-bottom: 10px; border-bottom: 1px solid #ddd;">
            <label for="color-scheme-select">著色依據：</label>
            <select id="color-scheme-select">
                <option value="author" selected>作者</option>
                <option value="cluster_id">分群結果</option>
            </select>
        </div>
        <div id="stats-toggle-container" style="margin-top: 10px;">
            <input type="checkbox" id="toggle-stats" checked>
            <label for="toggle-stats">顯示統計圖表</label>
        </div>
        <div id="centroid-toggle-container">
            <input type="checkbox" id="toggle-centroids" checked>
            <label for="toggle-centroids">顯示群組中心</label>
        </div>
        <div id="search-container" style="margin-top: 10px;">
            <input type="text" id="search-box" placeholder="依作者或檔名搜尋...">
        </div>
        <div id="legend-container"></div>
    </div>

    <!-- 相似圖片結果容器 -->
    <div id="similarity-results-container"></div>

    <!-- 彈出視窗 -->
    <div id="popup"
        style="display:none; position:fixed; top:50%; left:50%; transform:translate(-50%, -50%); background:white; padding:20px; border:1px solid #ccc; box-shadow:0 0 10px rgba(0,0,0,0.5); z-index:1000;">
        <img id="popup-image" src="" style="max-width:300px; max-height:300px;" />
        <ul id="popup-info" style="list-style: none; padding: 10px 0 0 0;"></ul>
        <button id="close-popup">關閉</button>
    </div>

    <script src="https://d3js.org/d3.v7.min.js"></script>
    <script src="/static/main.js"></script>
</body>

</html>